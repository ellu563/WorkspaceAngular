<div class="container">

    <h1>Maatalousnäyttelyn 2023 liput nyt myynnissä</h1>

    <form #form1="ngForm" (ngSubmit)="onSubmit(form1); form1.resetForm()">

        <div class="tickets">

            <!--basic-->
            <div class="basic">
                <h2>Peruslippu</h2>
                <mat-grid-list cols="4" rowHeight="100px">
                    <mat-grid-tile *ngFor="let button of buttons">
                        <button mat-fab color="primary" (click)="addValue(button)">{{button}}</button>
                    </mat-grid-tile>
                    <p>{{buyer.result}}</p>
                </mat-grid-list>

            </div>

            <div class="student">
                <h2>Opiskelija</h2>

                <mat-grid-list cols="4" rowHeight="100px">
                    <mat-grid-tile *ngFor="let button of buttons1">
                        <button mat-fab color="primary" (click)="addValueStudent(button)">{{button}}</button>
                    </mat-grid-tile>
                    {{buyer.studentresult}}
                </mat-grid-list>
            </div>

            <div class="senior">
                <h2>Eläkeläinen</h2>

                <mat-grid-list cols="4" rowHeight="100px">
                    <mat-grid-tile *ngFor="let button of buttons2">
                        <button mat-fab color="primary" (click)="addValueSenior(button)">{{button}}</button>
                    </mat-grid-tile>
                    {{buyer.seniorresult}}
                </mat-grid-list>
            </div>

            <div class="checkboxi">
                <mat-checkbox class="example-margin" [(ngModel)]="isChecked">MTK:n jäsen</mat-checkbox>
            </div>

            <input type="number" [(ngModel)]="buyer.finalPrice">
            {{buyer.finalPrice}}

        </div>

        <div class="buyer">

            <h2>Täytä tilaajan tiedot</h2>

            <mat-form-field>
                <input matInput placeholder="Etunimi" name="firstName" [(ngModel)]="buyer.firstName" #fname="ngModel"
                    required minlength="2" pattern="^[a-zA-Z]*$">
                <mat-error *ngIf="fname.hasError('required')">Enter your first name</mat-error>
                <mat-error *ngIf="fname.hasError('minlength')">Minimum 2 characters required</mat-error>
                <mat-error *ngIf="fname.hasError('pattern')">Must be valid first name</mat-error>
            </mat-form-field>

            <!--last name-->
            <mat-form-field>
                <input matInput placeholder="Sukunimi" name="lastName" [(ngModel)]="buyer.lastName" #lname="ngModel"
                    required minlength="2" pattern="^[a-zA-Z]*$">
                <mat-error *ngIf="lname.hasError('required')">Enter your last name</mat-error>
                <mat-error *ngIf="lname.hasError('minlength')">Minimum 2 characters required</mat-error>
                <mat-error *ngIf="lname.hasError('pattern')">Must be valid last name</mat-error>
            </mat-form-field>

            <h2>Liput lähetetään sähköpostiosoitteeseen</h2>

            <!--email, regex sahkopostille-->
            <mat-form-field>
                <input matInput placeholder="Sähköposti" name="email" [(ngModel)]="buyer.email" #email="ngModel"
                    required minlength="5" pattern="^([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5})$">
                <mat-error *ngIf="email.hasError('required')">Enter your email</mat-error>
                <mat-error *ngIf="email.hasError('minlength')">Minimum 5 characters required</mat-error>
                <mat-error *ngIf="email.hasError('pattern')">Must be valid email</mat-error>
            </mat-form-field>

            <button type="submit" mat-raised-button color="accent" [disabled]="form1.invalid">Osta liput</button>

        </div>

    </form>

</div>